import{r as E,v as L,n as A,d as g,u as p,o as l,c as _,a as f,b as w,E as P,e as N,f as y,w as d,g as c,h as b,i as O,j as W,k as D,l as I,F as h,m as k,p as B,q as T,s as V,t as j,x as H,y as F,z as M,A as q,B as z,C as G,D as K,G as U,H as J,I as Q,J as X}from"./vendor.f083b0b9.js";const Y=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}};Y();function Z(a={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:o,onRegistered:n,onRegisterError:s}=a;let r,i;const m=async(u=!0)=>{u&&(r==null||r.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()})),i&&i.waiting&&await A(i.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){r=new L("./sw.js",{scope:"./",type:"classic"}),r.addEventListener("activated",u=>{u.isUpdate||o==null||o()});{const u=()=>{e==null||e()};r.addEventListener("waiting",u),r.addEventListener("externalwaiting",u)}r.register({immediate:t}).then(u=>{i=u,n==null||n(u)}).catch(u=>{s==null||s(u)})}return m}function ee(a={}){const{immediate:t=!0,onNeedRefresh:e,onOfflineReady:o,onRegistered:n,onRegisterError:s}=a,r=E(!1),i=E(!1);return{updateServiceWorker:Z({immediate:t,onNeedRefresh(){r.value=!0,e==null||e()},onOfflineReady(){i.value=!0,o==null||o()},onRegistered:n,onRegisterError:s}),offlineReady:i,needRefresh:r}}var R=(a,t)=>{const e=a.__vccOpts||a;for(const[o,n]of t)e[o]=n;return e};const te={key:0,class:"pwa-toast",role:"alert"},ne={class:"message"},oe={key:0},re={key:1},se=g({setup(a){const{offlineReady:t,needRefresh:e,updateServiceWorker:o}=ee(),n=async()=>{t.value=!1,e.value=!1};return(s,r)=>p(t)||p(e)?(l(),_("div",te,[f("div",ne,[p(t)?(l(),_("span",oe," App ready to work offline ")):(l(),_("span",re," New content available, click on reload button to update. "))]),p(e)?(l(),_("button",{key:0,onClick:r[0]||(r[0]=i=>p(o)())},"Reload")):w("",!0),f("button",{onClick:n},"Close")])):w("",!0)}});var ae=R(se,[["__scopeId","data-v-4a6319f6"]]);const ie={},le=b("\u9996\u9875"),ce=b("\u52A8\u6001"),ue=b("RSS\u8BA2\u9605");function de(a,t){const e=P,o=N;return l(),y(o,{class:"el-menu-demo",mode:"horizontal",router:""},{default:d(()=>[c(e,{index:"/"},{default:d(()=>[le]),_:1}),c(e,{index:"/dynamic"},{default:d(()=>[ce]),_:1}),c(e,{index:"/rss"},{default:d(()=>[ue]),_:1})]),_:1})}var _e=R(ie,[["render",de]]);const x=O("main",{state:()=>({loading:{articles:!0,dynamics:!0,fans:!0},select:!0,articles:[],dynamics:{bilibili:{official:[],ava:[],bella:[],carol:[],diana:[],eileen:[]},weibo:{official:[],ava:[],bella:[],carol:[],diana:[],eileen:[]},douyin:{official:[]}},fans:{official:0,ava:0,bella:0,carol:0,diana:0,eileen:0}}),actions:{updateArticle(a){this.articles=a},updateDynamic(a,t,e){this.dynamics[a][t]=e}},getters:{getArticle(a){let t=[{link:"https://space.bilibili.com/703007996/article",image:"https://i0.hdslb.com/bfs/article/80d3563014013b213b1623f61d24af5fa0ef32d5.png@700w_200h_progressive.webp"}];for(let e in a.articles)if(t.push({link:a.articles[e].link,image:a.articles[e].description.match(/<img.*?src="(.*?)"/)[1]+"@700w_200h_progressive.webp"}),t.length==5)break;return t},getDynamic(a){let t,e,o=[];for(t in a.dynamics)for(e in a.dynamics[t])o=o.concat(a.dynamics[t][e]);return o}}}),fe=f("div",null,"\u5F15\u6D41\u5730\u5740",-1),pe=g({setup(a){const t=x();let e,o;const n=[];for(e in t.dynamics){const s=[];for(o in t.dynamics[e])s.push({label:o,disabled:!1});n.push({label:e,children:s})}return(s,r)=>{const i=W,m=D,u=I;return l(),_(h,null,[fe,c(u,{type:"border-card"},{default:d(()=>[(l(),_(h,null,k(n,v=>c(m,{label:v.label},{default:d(()=>[(l(!0),_(h,null,k(v.children,C=>(l(),y(i,{label:C.label},null,8,["label"]))),256))]),_:2},1032,["label"])),64))]),_:1})],64)}}});const me=g({setup(a){return(t,e)=>{const o=B,n=H("router-view"),s=T,r=V,i=j;return l(),_(h,null,[c(ae),c(r,null,{default:d(()=>[c(r,null,{default:d(()=>[c(o,null,{default:d(()=>[c(_e)]),_:1}),c(s,null,{default:d(()=>[c(n)]),_:1})]),_:1}),c(i,{width:"250px"},{default:d(()=>[c(pe)]),_:1})]),_:1})],64)}}}),he="modulepreload",S={},ve="./",$=function(t,e){return!e||e.length===0?t():Promise.all(e.map(o=>{if(o=`${ve}${o}`,o in S)return;S[o]=!0;const n=o.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${s}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":he,n||(r.as="script",r.crossOrigin=""),r.href=o,document.head.appendChild(r),n)return new Promise((i,m)=>{r.addEventListener("load",i),r.addEventListener("error",m)})})).then(()=>t())},ge={class:"block"},ye=["href"],be=["src"],ke=f("div",null,"\u65E5\u7A0B\u8868",-1),Ee=f("div",null,"\u7C89\u4E1D\u6570",-1),we=g({setup(a){const t=x();return F(async()=>{try{t.updateArticle((await M("https://rss.asoul.info/bilibili/user/article/703007996",{})).items)}catch(e){console.log(e)}t.loading.articles=!1}),(e,o)=>{const n=q,s=z,r=G;return l(),_(h,null,[f("div",ge,[K((l(),y(s,{trigger:"click"},{default:d(()=>[(l(!0),_(h,null,k(p(t).getArticle,i=>(l(),y(n,null,{default:d(()=>[f("a",{target:"_blank",href:i.link},[f("img",{src:i.image},null,8,be)],8,ye)]),_:2},1024))),256))]),_:1})),[[r,p(t).loading.articles]])]),ke,Ee],64)}}}),Re=[{path:"/",component:we},{path:"/dynamic",component:()=>$(()=>import("./Dynamic.ee13ef71.js"),["assets/Dynamic.ee13ef71.js","assets/Dynamic.d5d257c4.css","assets/vendor.f083b0b9.js","assets/vendor.1e80cba4.css"])},{path:"/rss",component:()=>$(()=>import("./RSSHub.fffed314.js"),["assets/RSSHub.fffed314.js","assets/vendor.f083b0b9.js","assets/vendor.1e80cba4.css"])}],xe=U({history:J(),routes:Re});Q(me).use(xe).use(X()).mount("#app");export{R as _,x as u};
